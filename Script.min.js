var input = [
  { type: "video", value: "./video1.mp4" },
  { type: "form", value: "Form Template" },
  { type: "video", value: "./video1.mp4" },
  {
    type: "options",
    title:
      "貴社が属する業界を選択してください。<br />選択した業界ごとに活用事例等を紹介させていただきます。",
    value: [
      {
        name: "製造",
        button: 1,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "<span>＜お客様インタビュー＞</span><br />豊田油気様",
            button: 1,
            value: [{ type: "video", value: "./video1.mp4" }],
          },
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "BizRobo!活用シーン",
            button: 3,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "金融",
        button: 2,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "BizRobo!活用シーン",
            button: 3,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "情報・通信",
        button: 3,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "商社",
        button: 4,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "卸売・小売",
        button: 5,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "<span>＜お客様インタビュー＞</span><br/>国分グループ本社様",
            button: 1,
            value: [{ type: "video", value: "./video1.mp4" }],
          },
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "BizRobo!活用シーン",
            button: 3,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "インフラ・建設",
        button: 6,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "BizRobo!活用シーン",
            button: 3,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "不動産",
        button: 7,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "<span>＜お客様インタビュー＞</span><br />東神開発様",
            button: 1,
            value: [{ type: "video", value: "./video1.mp4" }],
          },
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "BizRobo!活用シーン",
            button: 3,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "物流・運送",
        button: 8,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "<span>＜お客様インタビュー＞</span><br />関通様",
            button: 1,
            value: [{ type: "video", value: "./video1.mp4" }],
          },
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "BizRobo!活用シーン",
            button: 3,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "官公庁・団体",
        button: 9,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "<span>＜お客様インタビュー＞</span><br />広島市様",
            button: 1,
            value: [{ type: "video", value: "./video1.mp4" }],
          },
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "BizRobo!活用シーン",
            button: 3,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "メディア",
        button: 10,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "BizRobo!活用シーン",
            button: 3,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "医療",
        button: 11,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "<span>＜お客様インタビュー＞</span><br />滋賀医科大学医学部附属病院様様",
            button: 1,
            value: [{ type: "video", value: "./video1.mp4" }],
          },
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "BizRobo!活用シーン",
            button: 3,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
      {
        name: "サービス",
        button: 12,
        title:
          "業界の導入事例等を紹介させていただきます。<br />BizRobo!について更に知りたい方は問い合わせよりご相談ください。",
        type: "options",
        value: [
          {
            name: "<span>＜お客様インタビュー＞</span><br />パーソルテクノロジースタッフ様",
            button: 1,
            value: [{ type: "video", value: "./video1.mp4" }],
          },
          {
            name: "BizRobo!ご利用企業様事例",
            button: 2,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "BizRobo!活用シーン",
            button: 3,
            type: "link",
            value: "https://www.google.com/",
          },
          {
            name: "お問い合わせ",
            button: 4,
            type: "link",
            value: "https://www.google.com/",
          },
          { name: "戻る", button: 5, type: "back", page: 5 },
        ],
      },
    ],
  },
];
const module = (function (e) {
  var t,
    a,
    l,
    o = !1;
  function n(e = 1, t) {
    let a = 0,
      o = (function e(t = 1, a = 1, o) {
        let n = {
            beacon_user_id: l,
            site: 1,
            scenario: 1,
            page: t,
            event_type: a,
            details: o,
          },
          i = new URLSearchParams(n);
        return i;
      })((a = b.length > 0 ? parseInt(b[0]) + b.length : w + 1), e, t);
    navigator.sendBeacon("https://www.google.com/", o);
  }
  function i() {
    (modelTemplate =
      '<div id="openModal-about" class="awasell-modalPopupDialog">'),
      (modelTemplate += "<div>"),
      (modelTemplate += '<button class="awasell-closePopupBtn">X</button>'),
      (modelTemplate +=
        '<div id="myPopupContent" class="awasell-mainPopupContainer" style="height:' +
        a +
        'px"></div>'),
      (modelTemplate += "</div></div>");
    let t = document.getElementById("loop-video");
    (t.innerHTML += modelTemplate),
      f(e),
      document.getElementById("openModal-about").classList.add("modalShow"),
      (document.getElementById("awasell-pop-outer").style.display = "none"),
      document
        .querySelector(".awasell-closePopupBtn")
        .addEventListener("click", s);
  }
  function s() {
    document.getElementById("openModal-about").remove(),
      (document.getElementById("awasell-pop-outer").style.display = "block"),
      (w = -1),
      (e = y),
      (b = []),
      (v = -1),
      (g = !1),
      document.querySelector(".awasell-pop-inner").addEventListener("click", i),
      document
        .querySelector(".awasell-closeBannerBtn")
        .addEventListener("click", p),
      (h = !1);
  }
  function p() {
    document.getElementById("awasell-pop-outer").style.display = "none";
  }
  function r(e, t) {
    var a = document.createElement("div");
    return a.setAttribute("class", t), (a.innerHTML = e), a;
  }
  function m(t, a, l) {
    var o = document.createElement("button");
    return (
      o.setAttribute("class", classes),
      "back" == a.type
        ? o.setAttribute("class", "awasell-backButtonStyle")
        : void 0 === a.title
        ? o.setAttribute("class", "awasell-optionButtonStyleIn")
        : o.setAttribute("class", "awasell-optionButtonStyle"),
      o.addEventListener("click", (t) => {
        n(1, a.name),
          "options" === a.type
            ? ((w = -1), (e = [a]), b.push(l), f(e))
            : "link" === a.type
            ? window.open(a.value, "_blank")
            : "back" === a.type
            ? ((g = !0), u())
            : ((w = -1), (e = a.value), b.push(l), f(e));
      }),
      (o.innerHTML = t),
      o
    );
  }
  function u() {
    t = y;
    for (let e = 0; e < b.length - 1; e++) {
      0 !== e && (t = t.value);
      var t = t[b[e]];
    }
    (w = -1), (t = [t]), b.pop(), f(t);
  }
  function d(e, t) {
    document.getElementById(e).innerHTML = t;
  }
  function c() {
    !0 === document.getElementById("terms").checked
      ? ((document.getElementById("awasell-submit-btn").disabled = !1),
        (document.getElementById("awasell-submit-btn").style.backgroundColor =
          "rgb(0 136 255)"))
      : ((document.getElementById("awasell-submit-btn").disabled = !0),
        (document.getElementById("awasell-submit-btn").style.backgroundColor =
          "gray"));
  }
  var b = [],
    v = -1,
    w = -1,
    y = e,
    g = !1,
    h = !1;
  function f(t) {
    if ((!1 === h && (w++, v++), w >= t?.length)) {
      (w = -1), (v = -1), u();
      return;
    }
    var a,
      i,
      s,
      p,
      y = t[w].type,
      _ = t[w].value;
    switch (y) {
      case "video":
        template =
          ((a = _),
          (i = document.createElement("VIDEO")).setAttribute("id", "video"),
          i.canPlayType("video/mp4")
            ? i.setAttribute("src", a)
            : i.setAttribute("src", "movie.ogg"),
          i.setAttribute("width", "100%"),
          i.setAttribute("height", "100%"),
          i.setAttribute("autoplay", !0),
          i.setAttribute("controlslist", "nodownload nofullscreen"),
          i.setAttribute("class", "awasell-videoPopupContainer"),
          i.setAttribute("controls", "controls"),
          i.addEventListener("ended", () => {
            (h = !1), f(e);
          }),
          i);
        break;
      case "form":
        JSON.parse(localStorage.getItem("isUserExist"))
          ? f(e)
          : (template =
              ((s = document.createElement("div")),
              (p = `<div class="awasell-popupformContainer">
                            <h2 class="awasell-heading-text">フォームを入力して動画の
                                          続きをご視聴ください。</h2>
                                          <div class="contact-form-main">
                            <form id="getStartedForm" class="getStartedForm" name="contactForm">
                                <div class="awasell-formFieldWrapper">
                                <div class="awasell-error" id="companyNameErr"></div>

                                    <div class="awasell-company-field">

                                        <input type="text" name="companyName" id="companyName" class="awasell-form-field" placeholder="会社名">
                                        <label id="awasell-form-field-label">会社名</label>
                                    </div>
                                    <div class="awasell-last-first">
                                    <div class="awasell-firstCol ">
                                    <div class="awasell-error" id="lastNameErr"></div>
                                    </div>
                                    <div class=" awasell-lastCol  ">
                                    <div class="awasell-error" id="firstNameErr"></div>
                                    </div>

                                    </div>
                                    <div class=" awasell-last-first">

                                        <div class="awasell-company-field">
                                        <div class="awasell-firstCol ">
                                           
                                            <input type="text" name="lastName" id="lastName" class="awasell-form-field first" placeholder="姓">
                                        <label id="awasell-form-field-label">姓</label>
                                        </div>

                                        </div>

                                        <div class="awasell-company-field">
                                        <div class=" awasell-lastCol  ">

                                            <input type="text" name="firstName" id="firstName" class="awasell-form-field first" placeholder="名">
                                        <label id="awasell-form-field-label">名</label>
                                        </div>
                                        </div>
                                    </div>
                                    <div class="awasell-error" id="emailErr"></div>

                                    <div class="awasell-company-field ">
                                        <input type="text" name="email" id="email" class="awasell-form-field" placeholder="メールアドレス ">
                                        <label id="awasell-form-field-label">メールアドレス </label>
                                        <p class="awasell-email-sub-text">*会社のメールアドレスをご入力ください</p>


                                        
                                    </div>

                                    <div class="awasell-error" id="termsErr"></div>
                                    <div class="awasell-termsCondition">
                                        <div class="">

                                            <input id="terms" type="checkbox" class="check-form" name="terms" value="yes">
                                            <span> 当社の<a class="awasell-termlink" href='https://www.google.com/' target="_blank" rel="noreferrer">個人情報保護方針</a>に同意する</span>
                                         </div>                                
                                    </div>                            

                                    <div class="awasell-submit-btn">
                                        <button class="awasell-btn" disabled id="awasell-submit-btn" type="submit" value="Submit">送信</button>
                                    </div>
                                </div>         
                            </form>
                        </div>`),
              (s.innerHTML = p),
              s));
        break;
      case "options":
        template = (function t(a, l) {
          let o = l.filter((e) => "back" === e.type),
            n = l.filter((e) => "back" !== e.type);
          var i = document.createElement("div");
          (i.style.width = "100%"),
            (i.style.height = "100%"),
            e?.[0]?.type === "options" || g || (b.push(v), (v = -1), (g = !0));
          var s = r(a, (classes = "hello"));
          (s.style.display = "flex"),
            (s.style.alignItems = "center"),
            (s.style.justifyContent = "center"),
            (s.style.marginBottom = "10px"),
            (s.style.fontSize = "25px"),
            (s.style.fontWeight = "bold"),
            (s.style.height = "15%"),
            (s.style.lineHeight = "35px"),
            (s.style.textAlign = "center");
          var p = r("", (classes = "world"));
          if (
            ((p.style.display = "flex"),
            (p.style.width = "100%"),
            (p.style.height = 0 !== o.length ? "70%" : "80%"),
            i.appendChild(s),
            0 !== o.length)
          ) {
            var u = r("", (classes = "world")),
              d = m(o[0].name, o[0], "");
            (u.style.display = "flex"),
              (u.style.float = "left"),
              (u.style.width = "20%"),
              (u.style.height = "10%"),
              (u.style.marginBottom = "10px");
            var c = r("", (classes = "awasell-optionButtonItems"));
            c.appendChild(d), u.appendChild(c);
          }
          var w = r("", (classes = "awasell-optionButtonItems")),
            y = r("", (classes = "awasell-optionButtonItems")),
            h = r("", (classes = "awasell-optionButtonItems"));
          n.map((e, t) => {
            var a = m(e.name, e, t);
            t >= 0 && t < 4
              ? w.appendChild(a)
              : t > 3 && t < 8
              ? y.appendChild(a)
              : h.appendChild(a);
          });
          var f = n.length;
          return (
            f <= 4
              ? p.appendChild(w)
              : f > 4 && f <= 8
              ? (p.appendChild(w), p.appendChild(y))
              : (p.appendChild(w), p.appendChild(y), p.appendChild(h)),
            i.appendChild(s),
            i.appendChild(p),
            o.length > 0 && i.appendChild(u),
            i
          );
        })(t[w].title, _);
        break;
      default:
        template = r(_);
    }
    if (
      ((document.getElementById("myPopupContent").innerHTML = ""),
      document.getElementById("myPopupContent").appendChild(template),
      document.querySelector(".check-form")?.addEventListener("click", c),
      document
        .querySelector(".getStartedForm")
        ?.addEventListener("submit", function (t) {
          return (function t(a) {
            a.preventDefault();
            var i,
              s,
              p,
              r = document.contactForm.companyName.value,
              m = document.contactForm.lastName.value,
              u = document.contactForm.firstName.value,
              c = document.contactForm.email.value,
              b = document.getElementById("terms"),
              v = (lastNameErr = firstNameErr = emailErr = termsErr = !0);
            let w = c.split("@")[1],
              y = ["hotmail.co.jp", "hotmail.com", "yahoo.co.jp"].filter(
                (e) => e === w
              );
            var g = c.indexOf("@"),
              _ = c.lastIndexOf(".");
            if (
              ("" == r
                ? d("companyNameErr", "* 会社名を入力してください")
                : 2 * ((i = r), new Blob([i]).size) > 100
                ? d("companyNameErr", "* 50文字以内で入力してください")
                : (d("companyNameErr", ""), (v = !1)),
              "" == m
                ? d("lastNameErr", "* 姓を入力してください")
                : 2 * ((s = m), new Blob([s]).size) > 40
                ? d("lastNameErr", "* 20文字以内で入力してください")
                : (d("lastNameErr", ""), (lastNameErr = !1)),
              "" == u
                ? d("firstNameErr", "* 名を入力してください")
                : 2 * ((p = u), new Blob([p]).size) > 40
                ? d("firstNameErr", "* 20文字以内で入力してください")
                : (d("firstNameErr", ""), (firstNameErr = !1)),
              "" == c
                ? d("emailErr", "* 会社のメールアドレスを入れてください")
                : c.length > 100
                ? d("emailErr", "* 100文字以内で入力してください")
                : g < 1 || _ < g + 2 || _ + 2 >= c.length
                ? d("emailErr", "* 正しいメールアドレスを入力してください")
                : y.length > 0
                ? d("emailErr", "* 会社のメールアドレスをご入力ください")
                : (d("emailErr", ""), (emailErr = !1)),
              !1 == b.checked
                ? d("termsErr", "プライバシーとポリシーに同意してください")
                : (d("termsErr", ""), (termsErr = !1)),
              !0 == (v || lastNameErr || firstNameErr || emailErr || termsErr))
            )
              h = !0;
            else {
              h = !1;
              let k = {
                  first_name: u,
                  last_name: m,
                  company_name: r,
                  email: c,
                  beacon_user_id: l,
                },
                B = new URLSearchParams(k);
              navigator.sendBeacon("https://www.google.com/", B) &&
                (localStorage.setItem("isUserExist", JSON.stringify(!0)),
                localStorage.setItem("beacon_user_id", JSON.stringify(l)),
                (o = !0)),
                n(1, "CREATE_USER"),
                f(e);
            }
          })(t);
        }),
      document.getElementById("video"))
    ) {
      let k = document.getElementById("video");
      k.onloadeddata = function () {
        n(1, "0%");
        var e = !0,
          t = !0;
        k.ontimeupdate = function () {
          Math.floor(k.currentTime) === Math.floor(k.duration / 2) &&
            !0 === e &&
            ((e = !1), n(1, "50%")),
            k.currentTime === k.duration &&
              !0 === t &&
              ((t = !1), n(1, "100%"));
        };
      };
    }
  }
  return {
    pageLoad: function e() {
      if (((a = (9 * (t = 0.6 * screen.width - 32)) / 16), screen.width <= 959))
        return !1;
      (mydiv = document.createElement("div")).setAttribute("id", "loop-video"),
        mydiv.setAttribute("class", "awasell-loop-container"),
        document.body.appendChild(mydiv),
        (template = '<div class="awasell-pop-outer" id="awasell-pop-outer">'),
        (template += ' <button class="awasell-closeBannerBtn">X</button>'),
        (template += '<div class="awasell-pop-inner" >'),
        (template +=
          '<img src="./Banner.png" height="225px" width="300px" alt="image not found" class="awasell-bannerImg"></div>'),
        (template += "</div>");
      let o = document.getElementById("loop-video");
      (o.innerHTML += template),
        document
          .querySelector(".awasell-pop-inner")
          .addEventListener("click", i),
        document
          .querySelector(".awasell-closeBannerBtn")
          .addEventListener("click", p);
      var n = document.createElement("link");
      (n.rel = "stylesheet"),
        (n.href = "./style.css"),
        document.getElementsByTagName("head")[0].appendChild(n),
        "" === (l = JSON.parse(localStorage.getItem("beacon_user_id")) || "") &&
          ((l = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(
            /[xy]/g,
            function (e) {
              var t = (16 * Math.random()) | 0;
              return ("x" == e ? t : (3 & t) | 8).toString(16);
            }
          )),
          localStorage.setItem("beacon_user_id", JSON.stringify(l)),
          localStorage.setItem("isUserExist", JSON.stringify(!1)));
    },
  };
})(input);
module.pageLoad();
